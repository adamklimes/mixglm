<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create NIMBLE Model Structures for a mixture model — mixglmSpecification • mixglm</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create NIMBLE Model Structures for a mixture model — mixglmSpecification"><meta name="description" content="Mainly for internal use. This function takes a set of model
specifications for the three sub-models
of a mixture model and generates a set of structures
for initialisation of a NIMBLE model"><meta property="og:description" content="Mainly for internal use. This function takes a set of model
specifications for the three sub-models
of a mixture model and generates a set of structures
for initialisation of a NIMBLE model"><meta property="og:image" content="https://adamklimes.github.io/mixglm/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mixglm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/mixglm.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/caseStudy.html">Case Study</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create NIMBLE Model Structures for a mixture model</h1>

      <div class="d-none name"><code>mixglmSpecification.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Mainly for internal use. This function takes a set of model
specifications for the three sub-models
of a mixture model and generates a set of structures
for initialisation of a NIMBLE model</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mixglmSpecification</span><span class="op">(</span></span>
<span>  <span class="va">stateValModels</span>,</span>
<span>  <span class="va">stateProbModels</span>,</span>
<span>  <span class="va">statePrecModels</span>,</span>
<span>  <span class="va">inputData</span>,</span>
<span>  numStates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stateValError <span class="op">=</span> <span class="va">gaussian</span>,</span>
<span>  setPriors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>stateVal <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>int1 <span class="op">=</span> <span class="st">"dnorm(0.0, 0.001)"</span>, int2 <span class="op">=</span> <span class="st">"dgamma(1.0, 0.5)"</span>,</span>
<span>    pred <span class="op">=</span> <span class="st">"dnorm(0.0, 0.001)"</span><span class="op">)</span>, stateProb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>int2 <span class="op">=</span> <span class="st">"dnorm(0.0, 0.001)"</span>, pred <span class="op">=</span></span>
<span>    <span class="st">"dnorm(0.0, 0.001)"</span><span class="op">)</span>, statePrec <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>int <span class="op">=</span> <span class="st">"dnorm(0.0, 0.001)"</span>, pred <span class="op">=</span></span>
<span>    <span class="st">"dnorm(0.0, 0.001)"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-statevalmodels">stateValModels<a class="anchor" aria-label="anchor" href="#arg-statevalmodels"></a></dt>
<dd><p>A formula describing the regression relationship between the mean
of the response variable and the covariates for all mixture components, or a list of formulas
with each element giving the regression relationship between the mean
of the response variable and the covariates for each mixture component (ordered according to intercept of the
mixture component on the y-axis).  The response variable must be given on the
left-hand side of the formula.</p></dd>


<dt id="arg-stateprobmodels">stateProbModels<a class="anchor" aria-label="anchor" href="#arg-stateprobmodels"></a></dt>
<dd><p>A formula describing the regression relationship between the probability
of the existence of mixture components and the covariates, or a list
of formulas with each element giving the regression relationship between the probability
of the existence of a mixture component and its covariates (ordered
according to intercept of the mixture component on the y-axis).</p></dd>


<dt id="arg-stateprecmodels">statePrecModels<a class="anchor" aria-label="anchor" href="#arg-stateprecmodels"></a></dt>
<dd><p>A formula describing the regression relationship between the variances
in the mixture components and the covariates, or a list of
formulas with each mixture component giving the regression relationship between the variance in the
mixture component and the covariates for each mixture component (ordered according to
intercept of the mixture component on the y-axis).</p></dd>


<dt id="arg-inputdata">inputData<a class="anchor" aria-label="anchor" href="#arg-inputdata"></a></dt>
<dd><p>A data frame containing the covariate information and the response
variable.</p></dd>


<dt id="arg-numstates">numStates<a class="anchor" aria-label="anchor" href="#arg-numstates"></a></dt>
<dd><p>An integer scalar containing the number of mixture components.
If any of the <code>stateValModels</code>, <code>stateProbModels</code>, or <code>statePrecModels</code> parameters
is a list then <code>numStates</code> can be omitted and is therefore set to the length of the
list.</p></dd>


<dt id="arg-statevalerror">stateValError<a class="anchor" aria-label="anchor" href="#arg-statevalerror"></a></dt>
<dd><p>A description of the error distribution and link function to be used
in the model describing the response variable.  This can be from the <a href="https://rdrr.io/r/stats/family.html" class="external-link">family</a>
specification or <code>character</code> scalar with the following possible values: <code>"gaussian"</code>,
<code>"gamma"</code>, <code>"beta"</code>, or <code>"negbinomial"</code>.</p></dd>


<dt id="arg-setpriors">setPriors<a class="anchor" aria-label="anchor" href="#arg-setpriors"></a></dt>
<dd><p>A named list of prior distributions. Distribution are specified using character
strings. If sublists are not provided, values from the list are distributed to all sublist items
allowing to specify several priors at once. Sublist items are <code>"int"</code>, for specification of
priors on intercept parameters, and <code>"pred"</code>, from specification of priors on predictor/covariate
parameters. <code>"int"</code> is followed by <code>"1"</code> or <code>"2"</code> marking priors for the first
intercept and all the other intercepts respectively. For full structure of the list see default
values. Prior <code>"stateVal$Int2"</code> should allow only positive values to ensure distinctness of
states.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing the following components:</p>
<dl><dt><code>modelText</code></dt>
<dd><p>A character scalar containing the text of the model specification in
the NIMBLE BUGS dialect</p></dd>

<dt><code>modelCode</code></dt>
<dd><p>A <code>nimbleCode</code> object containing the model specification</p></dd>

<dt><code>constants</code></dt>
<dd><p>A list containing the constants to be provided to NIMBLE</p></dd>

<dt><code>data</code></dt>
<dd><p>A list containing the data to be provided to NIMBLE</p></dd>

<dt><code>errorModel</code></dt>
<dd><p>A factor containing the error model used for the specification of
the error distribution for the response variable</p></dd>

<dt><code>linkFunction</code></dt>
<dd><p>A factor containing the link function used in the specification
of the mixture model</p></dd>

<dt><code>initialValues</code></dt>
<dd><p>A list containing potential initial values for each of the stochastic
nodes in the NIMBLE model specification</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Joseph D. Chipperfield <a href="mailto:joechip90@googlemail.com">joechip90@googlemail.com</a>, Adam Klimes</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">200</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">group</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">1</span>, <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">1</span> <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="va">x</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">[</span><span class="va">group</span> <span class="op">+</span> <span class="fl">1</span><span class="op">]</span>, <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">modSpecification</span> <span class="op">&lt;-</span> <span class="fu">mixglmSpecification</span><span class="op">(</span></span></span>
<span class="r-in"><span>  stateValModels <span class="op">=</span> <span class="va">y</span> <span class="op">~</span> <span class="va">x</span>,</span></span>
<span class="r-in"><span>  stateProbModels <span class="op">=</span> <span class="op">~</span> <span class="va">x</span>,</span></span>
<span class="r-in"><span>  statePrecModels <span class="op">=</span> <span class="op">~</span> <span class="va">x</span>,</span></span>
<span class="r-in"><span>  inputData <span class="op">=</span> <span class="va">dat</span>,</span></span>
<span class="r-in"><span>  numStates <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="mixglm.html">mixglm</a></span><span class="op">(</span>mixglmSpecif <span class="op">=</span> <span class="va">modSpecification</span>,</span></span>
<span class="r-in"><span>  mcmcChains <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'modSpecification' not found</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adam Klimes.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

